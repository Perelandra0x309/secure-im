/*------------------------------------------------------------------------
    - HTML Table Filter Generator v2.5.1
    - By Max Guglielmi (tablefilter.free.fr)
    - Licensed under the MIT License
--------------------------------------------------------------------------
Copyright (c) 2009-2012 Max Guglielmi

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
--------------------------------------------------------------------------
    - Special credit to:
    Cedric Wartel, cnx.claude@free.fr, Florent Hirchy, Váry Péter,
    Anthony Maes, Nuovella Williams, Fuggerbit, Venkata Seshagiri Rao
    Raya, Piepiax, Manuel Kern, Baladhandayutham for active contribution
    and/or inspiration
------------------------------------------------------------------------*/
function tf_GetNodeText(t){var e=t.textContent||t.innerText||t.innerHTML.replace(/\<[^<>]+>/g,"");return e.replace(/^\s+/,"").replace(/\s+$/,"").tf_Trim()}function tf_IsObj(t){var e=!1;return"string"==(typeof t).tf_LCase()?window[t]&&"object"==(typeof window[t]).tf_LCase()&&(e=!0):t&&"object"==(typeof t).tf_LCase()&&(e=!0),e}function tf_IsFn(t){return t&&t.constructor==Function}function tf_IsArray(t){return t.constructor==Array}function tf_Id(t){return document.getElementById(t)}function tf_Tag(t,e){return t.getElementsByTagName(e)}function tf_RegexpEscape(t){function e(e){a=new RegExp("\\"+e,"g"),t=t.replace(a,"\\"+e)}chars=new Array("\\","[","^","$",".","|","?","*","+","(",")");for(var s=0;s<chars.length;s++)e(chars[s]);return t}function tf_CreateElm(t){if(void 0!=t&&null!=t&&""!=t){var e=document.createElement(t);if(arguments.length>1)for(var s=0;s<arguments.length;s++){var i=typeof arguments[s];switch(i.tf_LCase()){case"object":2==arguments[s].length&&e.setAttribute(arguments[s][0],arguments[s][1])}}return e}}function tf_CreateText(t){return document.createTextNode(t)}function tf_AddEvent(t,e,s,i){t.attachEvent?t.attachEvent("on"+e,s):t.addEventListener?t.addEventListener(e,s,void 0==i?!1:i):t["on"+e]=s}function tf_RemoveEvent(t,e,s,i){t.detachEvent?t.detachEvent("on"+e,s):t.removeEventListener?t.removeEventListener(e,s,void 0==i?!1:i):t["on"+e]=null}function tf_StopEvent(t){t||(t=window.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function tf_CancelEvent(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1}function tf_ObjPosition(t,e){var s=0,i=0;if(t&&t.offsetParent&&e.tf_Has(t.nodeName.tf_LCase()))do s+=t.offsetLeft,i+=t.offsetTop;while(t=t.offsetParent);return[s,i]}function tf_NumSortAsc(t,e){return t-e}function tf_NumSortDesc(t,e){return e-t}function tf_IgnoreCaseSort(t,e){var s=t.tf_LCase(),i=e.tf_LCase();return i>s?-1:s>i?1:0}function tf_HasClass(t,e){return t?t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")):!1}function tf_AddClass(t,e){t&&(tf_HasClass(t,e)||(t.className+=" "+e))}function tf_RemoveClass(t,e){if(t&&tf_HasClass(t,e)){var s=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(s,"")}}function tf_IsValidDate(t,e){if(null==e&&(e="DMY"),e=e.toUpperCase(),3!=e.length&&"DDMMMYYYY"==e){var s=tf_FormatDate(t,e);t=s.getDate()+"/"+(s.getMonth()+1)+"/"+s.getFullYear(),e="DMY"}if((-1==e.indexOf("M")||-1==e.indexOf("D")||-1==e.indexOf("Y"))&&(e="DMY"),"Y"==e.substring(0,1))var i=/^\d{2}(\-|\/|\.)\d{1,2}\1\d{1,2}$/,l=/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/;else if("Y"==e.substring(1,2))var i=/^\d{1,2}(\-|\/|\.)\d{2}\1\d{1,2}$/,l=/^\d{1,2}(\-|\/|\.)\d{4}\1\d{1,2}$/;else var i=/^\d{1,2}(\-|\/|\.)\d{1,2}\1\d{2}$/,l=/^\d{1,2}(\-|\/|\.)\d{1,2}\1\d{4}$/;if(0==i.test(t)&&0==l.test(t))return!1;var a=t.split(RegExp.$1);if("M"==e.substring(0,1))var r=a[0];else if("M"==e.substring(1,2))var r=a[1];else var r=a[2];if("D"==e.substring(0,1))var o=a[0];else if("D"==e.substring(1,2))var o=a[1];else var o=a[2];if("Y"==e.substring(0,1))var n=a[0];else if("Y"==e.substring(1,2))var n=a[1];else var n=a[2];parseFloat(n)<=50&&(n=(parseFloat(n)+2e3).toString()),parseFloat(n)<=99&&(n=(parseFloat(n)+1900).toString());var h=new Date(parseFloat(n),parseFloat(r)-1,parseFloat(o),0,0,0,0);return parseFloat(o)!=h.getDate()?!1:parseFloat(r)-1!=h.getMonth()?!1:!0}function tf_FormatDate(t,e){function s(t){if(void 0==t)return 0;if(t.length>2)return t;var e;return 99>=t&&t>50&&(e="19"+t),(50>t||"00"==t)&&(e="20"+t),e}function i(t){if(void 0==t)return 0;for(var e,s=new Array("january","february","march","april","may","june","july","august","september","october","november","december","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"),i=0;i<s.length;i++){var l=s[i];if(t.toLowerCase()===l){e=i+1;break}}return(e>11||23>e)&&(e-=12),1>e||e>12?0:e}if(null===e&&(e="DMY"),!t||""===t)return new Date(1001,0,1);var l,a;switch(e.toUpperCase()){case"DDMMMYYYY":a=t.replace(/[- \/.]/g," ").split(" "),l=new Date(s(a[2]),i(a[1])-1,a[0]);break;case"DMY":a=t.replace(/^(0?[1-9]|[12][0-9]|3[01])([- \/.])(0?[1-9]|1[012])([- \/.])((\d\d)?\d\d)$/,"$1 $3 $5").split(" "),l=new Date(s(a[2]),a[1]-1,a[0]);break;case"MDY":a=t.replace(/^(0?[1-9]|1[012])([- \/.])(0?[1-9]|[12][0-9]|3[01])([- \/.])((\d\d)?\d\d)$/,"$1 $3 $5").split(" "),l=new Date(s(a[2]),a[0]-1,a[1]);break;case"YMD":a=t.replace(/^((\d\d)?\d\d)([- \/.])(0?[1-9]|1[012])([- \/.])(0?[1-9]|[12][0-9]|3[01])$/,"$1 $4 $6").split(" "),l=new Date(s(a[0]),a[1]-1,a[2]);break;default:a=t.replace(/^(0?[1-9]|[12][0-9]|3[01])([- \/.])(0?[1-9]|1[012])([- \/.])((\d\d)?\d\d)$/,"$1 $3 $5").split(" "),l=new Date(s(a[2]),a[1]-1,a[0])}return l}function tf_RemoveNbFormat(t,e){if(null!=t){null==e&&(e="us");var s=t;return s="us"==e.tf_LCase()?+s.replace(/[^\d\.-]/g,""):+s.replace(/[^\d\,-]/g,"").replace(",",".")}}function tf_IsImported(t,e){for(var s=!1,i=void 0==e?"script":e,l="script"==i?"src":"href",a=tf_Tag(document,i),r=0;r<a.length;r++)if(void 0!=a[r][l]&&a[r][l].match(t)){s=!0;break}return s}function tf_IsStylesheetImported(t){var e=!1;if(!document.styleSheets)return e;for(var s=document.styleSheets,i=new RegExp(t),l=0;l<s.length;l++)if(s[l].imports){for(var a=s[l].imports,r=0;r<a.length;r++)if(a[r].href.tf_LCase()==t.tf_LCase()){e=!0;break}}else for(var o=s[l].cssRules?s[l].cssRules:s[l].rules,r=0;r<o.length;r++)if(i.test(o[r].cssText)){e=!0;break}return e}function tf_WriteCookie(t,e,s){var i="";null!=s&&(i=new Date((new Date).getTime()+36e5*s),i="; expires="+i.toGMTString()),document.cookie=t+"="+escape(e)+i}function tf_ReadCookie(t){var e="",s=t+"=";return document.cookie.length>0&&(offset=document.cookie.indexOf(s),-1!=offset&&(offset+=s.length,end=document.cookie.indexOf(";",offset),-1==end&&(end=document.cookie.length),e=unescape(document.cookie.substring(offset,end)))),e}function tf_CookieValueArray(t,e){void 0==e&&(e=",");var s=tf_ReadCookie(t),i=s.split(e);return i}function tf_CookieValueByIndex(t,e,s){void 0==s&&(s=",");var i=tf_CookieValueArray(t,s);return i[e]}function tf_RemoveCookie(t){tf_WriteCookie(t,"",-1)}function tf_SetOuterHtml(){if(document.body.__defineGetter__&&HTMLElement){var t=HTMLElement.prototype;t.__defineGetter__&&t.__defineGetter__("outerHTML",function(){var t=this.parentNode,e=tf_CreateElm(t.tagName);e.appendChild(this);var s=e.innerHTML;return t.appendChild(this),s})}t.__defineSetter__&&HTMLElement.prototype.__defineSetter__("outerHTML",function(t){var e=this.ownerDocument.createRange();e.setStartBefore(this);var s=e.createContextualFragment(t);return this.parentNode.replaceChild(s,this),t})}function setFilterGrid(t){return 0!==arguments.length?(window["tf_"+t]=new TF(arguments[0],arguments[1],arguments[2]),window["tf_"+t].AddGrid(),window["tf_"+t]):void 0}function initFilterGrid(){if(document.getElementsByTagName)for(var t,e=tf_Tag(document,"table"),s=0;s<e.length;s++){var i=e[s],l=i.getAttribute("id");tf_HasClass(i,"filterable")&&l&&(t=tf_IsObj(l+"_config")?window[l+"_config"]:void 0,window[l+"_isUnob"]=!0,setFilterGrid(l,t))}}function grabEBI(t){return tf_Id(t)}function grabTag(t,e){return tf_Tag(t,e)}function tf_GetCellText(t){return tf_GetNodeText(t)}function tf_isObject(t){return tf_IsObj(t)}function tf_isObj(t){return tf_IsObj(t)}function tf_isFn(t){return tf_IsFn(t)}function tf_isArray(t){return tf_IsArray(t)}function tf_addEvent(t,e,s){return tf_AddEvent(t,e,s)}function tf_removeEvent(t,e,s){return tf_RemoveEvent(t,e,s)}function tf_addClass(t,e){tf_AddClass(t,e)}function tf_removeClass(t,e){return tf_RemoveClass(t,e)}function tf_hasClass(t,e){return tf_HasClass(t,e)}function tf_isValidDate(t,e){return tf_IsValidDate(t,e)}function tf_formatDate(t,e){return tf_FormatDate(t,e)}function tf_removeNbFormat(t,e){return tf_RemoveNbFormat(t,e)}var TF=function(t){if(0!==arguments.length&&(this.id=t,this.version="2.5.1",this.year=(new Date).getFullYear(),this.tbl=tf_Id(t),this.startRow=void 0,this.refRow=null,this.headersRow=null,this.fObj=null,this.nbFilterableRows=null,this.nbRows=null,this.nbCells=null,this.hasGrid=!1,this.enableModules=!0,null!=this.tbl&&"table"===this.tbl.nodeName.tf_LCase()&&this.GetRowsNb())){if(arguments.length>1)for(var e=0;e<arguments.length;e++){var s=typeof arguments[e];switch(s.tf_LCase()){case"number":this.startRow=arguments[e];break;case"object":this.fObj=arguments[e]}}var i=this.fObj?this.fObj:{};this.refRow=void 0==this.startRow?2:this.startRow+1;try{this.nbCells=this.GetCellsNb(this.refRow)}catch(l){this.nbCells=this.GetCellsNb(0)}this.basePath=void 0!=i.base_path?i.base_path:"TableFilter/",this.enableModules&&(this.registeredModules=[],this.alreadyImportedModules=[],this.importedModules=[],this.modulesPath=void 0!=i.modules_path?i.modules_path:this.basePath+"TF_Modules/",this.module={populateSelect:{name:"populateSelect",desc:"Builds select type filters",path:this.modulesPath+"tf_populateSelect.js",loaded:0,init:function(t){t.module.populateSelect.loaded=1}},populateCheckList:{name:"populateCheckList",desc:"Builds checklist type filters",path:this.modulesPath+"tf_populateCheckList.js",loaded:0,init:function(t){t.module.populateCheckList.loaded=1}},gridLayout:{name:"gridLayout",desc:"Grid layout feature",path:this.modulesPath+"tf_gridLayout.js",loaded:0,init:function(t){t.module.gridLayout.loaded=1}},paging:{name:"paging",desc:"Paging feature",path:this.modulesPath+"tf_paging.js",loaded:0,init:function(t){t.module.paging.loaded=1}},sort:{name:"sort",desc:"Sort feature",path:this.modulesPath+"tf_sort.js",loaded:0,init:function(t){t.module.sort.loaded=1}},popUpFilters:{name:"popUpFilters",desc:"Filters in pop-up container feature",path:this.modulesPath+"tf_popupFilters.js",loaded:0,init:function(t){t.module.popUpFilters.loaded=1}},themes:{name:"themes",desc:"Themes loading feature",path:this.modulesPath+"tf_themes.js",loaded:0,init:function(t){t.module.themes.loaded=1}},colOps:{name:"colOps",desc:"Columns operations feature",path:this.modulesPath+"tf_colOps.js",loaded:0,init:function(t){t.module.colOps.loaded=1}},fixedHeaders:{name:"fixedHeaders",desc:"Fixed headers feature - Deprecated",path:this.modulesPath+"tf_fixedHeaders.js",loaded:0,init:function(t){t.module.fixedHeaders.loaded=1}},rowsCounter:{name:"rowsCounter",desc:"Rows counter feature",path:this.modulesPath+"tf_rowsCounter.js",loaded:0,init:function(t){t.module.rowsCounter.loaded=1}},loader:{name:"loader",desc:"Loader feature",path:this.modulesPath+"tf_loader.js",loaded:0,init:function(t){t.module.loader.loaded=1}},statusBar:{name:"statusBar",desc:"Status bar feature",path:this.modulesPath+"tf_statusBar.js",loaded:0,init:function(t){t.module.statusBar.loaded=1}},resetBtn:{name:"resetBtn",desc:"Reset button feature",path:this.modulesPath+"tf_resetBtn.js",loaded:0,init:function(t){t.module.resetBtn.loaded=1}},helpInstructions:{name:"helpInstructions",desc:"Help, About",path:this.modulesPath+"tf_resetBtn.js",loaded:0,init:function(t){t.module.helpInstructions.loaded=1}},alternateRows:{name:"alternateRows",desc:"Alternating rows color feature",path:this.modulesPath+"tf_alternateRows.js",loaded:0,init:function(t){t.module.alternateRows.loaded=1}},cookies:{name:"cookies",desc:"Remember values feature (cookies)",path:this.modulesPath+"tf_cookies.js",loaded:0,init:function(t){t.module.cookies.loaded=1}},highlightKeywords:{name:"highlightKeywords",desc:"Remember values feature (cookies)",path:this.modulesPath+"tf_highlightKeywords.js",loaded:0,init:function(t){t.module.highlightKeywords.loaded=1}},refreshFilters:{name:"refreshFilters",desc:"Refresh filters feature",path:this.modulesPath+"tf_refreshFilters.js",loaded:0,init:function(t){t.module.refreshFilters.loaded=1}},extensions:{name:"extensions",desc:"Extensions loading feature",path:this.modulesPath+"tf_extensions.js",loaded:0,init:function(t){t.module.extensions.loaded=1}},watermark:{name:"watermark",desc:"Watermark feature",path:this.modulesPath+"tf_watermark.js",loaded:0,init:function(t){t.module.watermark.loaded=1}},ezEditTable:{name:"ezEditTable",desc:"ezEditTable adapter",path:this.modulesPath+"tf_ezEditTable.js",loaded:0,init:function(t){t.module.ezEditTable.loaded=1}},publicMethods:{name:"publicMethods",desc:"Additional public methods for developers",path:this.modulesPath+"tf_publicMethods.js",loaded:0,init:function(t){t.module.publicMethods.loaded=1}}}),this.fltTypeInp="input",this.fltTypeSlc="select",this.fltTypeMulti="multiple",this.fltTypeCheckList="checklist",this.fltTypeNone="none",this.fltCol=[];for(var e=0;e<this.nbCells;e++)void 0==this["col"+e]&&(this["col"+e]=void 0==i["col_"+e]?this.fltTypeInp:i["col_"+e].tf_LCase()),this.fltCol.push(this["col"+e]);this.enableModules&&((this.fltCol.tf_Has(this.fltTypeSlc)||this.fltCol.tf_Has(this.fltTypeMulti))&&this.registeredModules.push(this.module.populateSelect.name),this.fltCol.tf_Has(this.fltTypeCheckList)&&this.registeredModules.push(this.module.populateCheckList.name)),this.publicMethods=void 0!=i.public_methods?i.public_methods:!1,this.fltGrid=0==i.grid?!1:!0,this.gridLayout=i.grid_layout?!0:!1,this.hasGridWidthsRow=!1,this.gridColElms=[],this.sourceTblHtml=null,this.gridLayout&&(void 0==this.tbl.outerHTML&&tf_SetOuterHtml(),this.sourceTblHtml=this.tbl.outerHTML),this.filtersRowIndex=void 0!=i.filters_row_index?i.filters_row_index:0,this.headersRow=void 0!=i.headers_row_index?i.headers_row_index:0==this.filtersRowIndex?1:0,this.gridLayout&&(this.headersRow>1?this.filtersRowIndex=this.headersRow+1:(this.filtersRowIndex=1,this.headersRow=0)),this.fltCellTag=void 0!=i.filters_cell_tag?"th"!=i.filters_cell_tag?"td":"th":"td",this.fltIds=[],this.fltElms=[],this.searchArgs=null,this.tblData=[],this.validRowsIndex=null,this.fltGridEl=null,this.isFirstLoad=!0,this.infDiv=null,this.lDiv=null,this.rDiv=null,this.mDiv=null,this.contDiv=null,this.infDivCssClass=void 0!=i.inf_div_css_class?i.inf_div_css_class:"inf",this.lDivCssClass=void 0!=i.left_div_css_class?i.left_div_css_class:"ldiv",this.rDivCssClass=void 0!=i.right_div_css_class?i.right_div_css_class:"rdiv",this.mDivCssClass=void 0!=i.middle_div_css_class?i.middle_div_css_class:"mdiv",this.contDivCssClass=void 0!=i.content_div_css_class?i.content_div_css_class:"cont",this.stylesheet=void 0!=i.stylesheet?i.stylesheet:this.basePath+"filtergrid.css",this.stylesheetId=this.id+"_style",this.fltsRowCssClass=void 0!=i.flts_row_css_class?i.flts_row_css_class:"fltrow",this.enableIcons=void 0!=i.enable_icons?i.enable_icons:!0,this.alternateBgs=i.alternate_rows?!0:!1,this.hasColWidth=i.col_width?!0:!1,this.colWidth=this.hasColWidth?i.col_width:null,this.fixedHeaders=i.fixed_headers?!0:!1,this.tBodyH=i.tbody_height?i.tbody_height:200,this.fltCssClass=void 0!=i.flt_css_class?i.flt_css_class:"flt",this.fltMultiCssClass=void 0!=i.flt_multi_css_class?i.flt_multi_css_class:"flt_multi",this.fltSmallCssClass=void 0!=i.flt_small_css_class?i.flt_small_css_class:"flt_s",this.singleFltCssClass=void 0!=i.single_flt_css_class?i.single_flt_css_class:"single_flt",this.isStartBgAlternate=!0,this.rowBgEvenCssClass=void 0!=i.even_row_css_class?i.even_row_css_class:"even",this.rowBgOddCssClass=void 0!=i.odd_row_css_class?i.odd_row_css_class:"odd",this.enterKey=0==i.enter_key?!1:!0,this.isModFilterFn=i.mod_filter_fn?!0:!1,this.modFilterFn=this.isModFilterFn?i.mod_filter_fn:null,this.onBeforeFilter=tf_IsFn(i.on_before_filter)?i.on_before_filter:null,this.onAfterFilter=tf_IsFn(i.on_after_filter)?i.on_after_filter:null,this.matchCase=i.match_case?!0:!1,this.exactMatch=i.exact_match?!0:!1,this.refreshFilters=i.refresh_filters?!0:!1,this.disableExcludedOptions=void 0!=i.disable_excluded_options?i.disable_excluded_options:!1,this.activeFlt=null,this.activeFilterId=null,this.hasColOperation=i.col_operation?!0:!1,this.colOperation=null,this.hasVisibleRows=i.rows_always_visible?!0:!1,this.visibleRows=this.hasVisibleRows?i.rows_always_visible:[],this.searchType=void 0!=i.search_type?i.search_type:"include",this.isExternalFlt=i.external_flt_grid?!0:!1,this.externalFltTgtIds=void 0!=i.external_flt_grid_ids?i.external_flt_grid_ids:null,this.externalFltEls=[],this.execDelay=i.exec_delay?parseInt(i.exec_delay):100,this.status=i.status?!0:!1,this.onFiltersLoaded=tf_IsFn(i.on_filters_loaded)?i.on_filters_loaded:null,this.singleSearchFlt=i.single_search_filter?!0:!1,this.onRowValidated=tf_IsFn(i.on_row_validated)?i.on_row_validated:null,this.customCellDataCols=i.custom_cell_data_cols?i.custom_cell_data_cols:[],this.customCellData=tf_IsFn(i.custom_cell_data)?i.custom_cell_data:null,this.inpWatermark=void 0!=i.input_watermark?i.input_watermark:"",this.inpWatermarkCssClass=void 0!=i.input_watermark_css_class?i.input_watermark_css_class:"fltWatermark",this.isInpWatermarkArray=void 0!=i.input_watermark&&tf_IsArray(i.input_watermark)?!0:!1,this.toolBarTgtId=void 0!=i.toolbar_target_id?i.toolbar_target_id:null,this.helpInstructions=void 0!=i.help_instructions?i.help_instructions:null,this.popUpFilters=void 0!=i.popup_filters?i.popup_filters:!1,this.markActiveColumns=void 0!=i.mark_active_columns?i.mark_active_columns:!1,this.activeColumnsCssClass=void 0!=i.active_columns_css_class?i.active_columns_css_class:"activeHeader",this.onBeforeActiveColumn=tf_IsFn(i.on_before_active_column)?i.on_before_active_column:null,this.onAfterActiveColumn=tf_IsFn(i.on_after_active_column)?i.on_after_active_column:null,this.displayAllText=void 0!=i.display_all_text?i.display_all_text:"",this.enableSlcResetFilter=void 0!=i.enable_slc_reset_filter?i.enable_slc_reset_filter:!0,this.enableEmptyOption=i.enable_empty_option?!0:!1,this.emptyText=void 0!=i.empty_text?i.empty_text:"(Empty)",this.enableNonEmptyOption=i.enable_non_empty_option?!0:!1,this.nonEmptyText=void 0!=i.non_empty_text?i.non_empty_text:"(Non empty)",this.onSlcChange=0==i.on_change?!1:!0,this.sortSlc=0==i.sort_select?!1:!0,this.isSortNumAsc=i.sort_num_asc?!0:!1,this.sortNumAsc=this.isSortNumAsc?i.sort_num_asc:null,this.isSortNumDesc=i.sort_num_desc?!0:!1,this.sortNumDesc=this.isSortNumDesc?i.sort_num_desc:null,this.slcFillingMethod=void 0!=i.slc_filling_method?i.slc_filling_method:"createElement",this.fillSlcOnDemand=i.fill_slc_on_demand?!0:!1,this.activateSlcTooltip=void 0!=i.activate_slc_tooltip?i.activate_slc_tooltip:"Click to activate",this.multipleSlcTooltip=void 0!=i.multiple_slc_tooltip?i.multiple_slc_tooltip:"Use Ctrl key for multiple selections",this.hasCustomSlcOptions=i.custom_slc_options&&tf_IsObj(i.custom_slc_options)?!0:!1,this.customSlcOptions=void 0!=i.custom_slc_options?i.custom_slc_options:null,this.onBeforeOperation=tf_IsFn(i.on_before_operation)?i.on_before_operation:null,this.onAfterOperation=tf_IsFn(i.on_after_operation)?i.on_after_operation:null,this.checkListDiv=[],this.checkListDivCssClass=void 0!=i.div_checklist_css_class?i.div_checklist_css_class:"div_checklist",this.checkListCssClass=void 0!=i.checklist_css_class?i.checklist_css_class:"flt_checklist",this.checkListItemCssClass=void 0!=i.checklist_item_css_class?i.checklist_item_css_class:"flt_checklist_item",this.checkListSlcItemCssClass=void 0!=i.checklist_selected_item_css_class?i.checklist_selected_item_css_class:"flt_checklist_slc_item",this.activateCheckListTxt=void 0!=i.activate_checklist_text?i.activate_checklist_text:"Click to load data",this.checkListItemDisabledCssClass=void 0!=i.checklist_item_disabled_css_class?i.checklist_item_disabled_css_class:"flt_checklist_item_disabled",this.enableCheckListResetFilter=void 0!=i.enable_checklist_reset_filter?i.enable_checklist_reset_filter:!0,this.rgxOperator=void 0!=i.regexp_operator?i.regexp_operator:"rgx:",this.emOperator=void 0!=i.empty_operator?i.empty_operator:"[empty]",this.nmOperator=void 0!=i.nonempty_operator?i.nonempty_operator:"[nonempty]",this.orOperator=void 0!=i.or_operator?i.or_operator:"||",this.anOperator=void 0!=i.and_operator?i.and_operator:"&&",this.grOperator=void 0!=i.greater_operator?i.greater_operator:">",this.lwOperator=void 0!=i.lower_operator?i.lower_operator:"<",this.leOperator=void 0!=i.lower_equal_operator?i.lower_equal_operator:"<=",this.geOperator=void 0!=i.greater_equal_operator?i.greater_equal_operator:">=",this.dfOperator=void 0!=i.different_operator?i.different_operator:"!",this.lkOperator=void 0!=i.like_operator?i.like_operator:"*",this.eqOperator=void 0!=i.equal_operator?i.equal_operator:"=",this.stOperator=void 0!=i.start_with_operator?i.start_with_operator:"{",this.enOperator=void 0!=i.end_with_operator?i.end_with_operator:"}",this.curExp=void 0!=i.cur_exp?i.cur_exp:"^[���$]",this.separator=void 0!=i.separator?i.separator:",",this.rowsCounter=i.rows_counter?!0:!1,this.statusBar=i.status_bar?i.status_bar:!1,this.loader=i.loader?!0:!1,this.displayBtn=i.btn?!0:!1,this.btnText=void 0!=i.btn_text?i.btn_text:this.enableIcons?"":"Go",this.btnCssClass=void 0!=i.btn_css_class?i.btn_css_class:this.enableIcons?"btnflt_icon":"btnflt",this.btnReset=i.btn_reset?!0:!1,this.btnResetCssClass=void 0!=i.btn_reset_css_class?i.btn_reset_css_class:"reset",this.onBeforeReset=tf_IsFn(i.on_before_reset)?i.on_before_reset:null,this.onAfterReset=tf_IsFn(i.on_after_reset)?i.on_after_reset:null,this.paging=i.paging?!0:!1,this.hasResultsPerPage=i.results_per_page?!0:!1,this.btnPageCssClass=void 0!=i.paging_btn_css_class?i.paging_btn_css_class:"pgInp",this.pagingSlc=null,this.resultsPerPage=null,this.resultsPerPageSlc=null,this.isPagingRemoved=!1,this.nbVisibleRows=0,this.nbHiddenRows=0,this.startPagingRow=0,this.nbPages=0,this.currentPageNb=1,this.sort=i.sort?!0:!1,this.isSortEnabled=!1,this.sorted=!1,this.sortConfig=void 0!=i.sort_config?i.sort_config:{},this.sortConfig.name=void 0!=this.sortConfig.name?i.sort_config.name:"sortabletable",this.sortConfig.src=void 0!=this.sortConfig.src?i.sort_config.src:this.basePath+"sortabletable.js",this.sortConfig.adapterSrc=void 0!=this.sortConfig.adapter_src?i.sort_config.adapter_src:this.basePath+"tfAdapter.sortabletable.js",this.sortConfig.initialize=void 0!=this.sortConfig.initialize?i.sort_config.initialize:function(t){t.SetSortTable&&t.SetSortTable()},this.sortConfig.sortTypes=void 0!=this.sortConfig.sort_types?i.sort_config.sort_types:[],this.sortConfig.sortCol=void 0!=this.sortConfig.sort_col?i.sort_config.sort_col:null,this.sortConfig.asyncSort=void 0!=this.sortConfig.async_sort?!0:!1,this.sortConfig.triggerIds=void 0!=this.sortConfig.sort_trigger_ids?i.sort_config.sort_trigger_ids:[],this.selectable=void 0!=i.selectable?i.selectable:!1,this.editable=void 0!=i.editable?i.editable:!1,this.onKeyUp=i.on_keyup?!0:!1,this.onKeyUpDelay=void 0!=i.on_keyup_delay?i.on_keyup_delay:900,this.isUserTyping=null,this.onKeyUpTimer=void 0,this.highlightKeywords=i.highlight_keywords?!0:!1,this.highlightCssClass=void 0!=i.highlight_css_class?i.highlight_css_class:"keyword",this.highlightedNodes=[],this.defaultDateType=void 0!=i.default_date_type?i.default_date_type:"DMY",this.thousandsSeparator=void 0!=i.thousands_separator?i.thousands_separator:",",this.decimalSeparator=void 0!=i.decimal_separator?i.decimal_separator:".",this.hasColNbFormat=i.col_number_format?!0:!1,this.colNbFormat=this.hasColNbFormat?i.col_number_format:null,this.hasColDateType=i.col_date_type?!0:!1,this.colDateType=this.hasColDateType?i.col_date_type:null,this.msgFilter=void 0!=i.msg_filter?i.msg_filter:"Filtering data...",this.msgPopulate=void 0!=i.msg_populate?i.msg_populate:"Populating filter...",this.msgPopulateCheckList=void 0!=i.msg_populate_checklist?i.msg_populate_checklist:"Populating list...",this.msgChangePage=void 0!=i.msg_change_page?i.msg_change_page:"Collecting paging data...",this.msgClear=void 0!=i.msg_clear?i.msg_clear:"Clearing filters...",this.msgChangeResults=void 0!=i.msg_change_results?i.msg_change_results:"Changing results per page...",this.msgResetValues=void 0!=i.msg_reset_grid_values?i.msg_reset_grid_values:"Re-setting filters values...",this.msgResetPage=void 0!=i.msg_reset_page?i.msg_reset_page:"Re-setting page...",this.msgResetPageLength=void 0!=i.msg_reset_page_length?i.msg_reset_page_length:"Re-setting page length...",this.msgSort=void 0!=i.msg_sort?i.msg_sort:"Sorting data...",this.msgLoadExtensions=void 0!=i.msg_load_extensions?i.msg_load_extensions:"Loading extensions...",this.msgLoadThemes=void 0!=i.msg_load_themes?i.msg_load_themes:"Loading theme(s)...",this.prfxTf="TF",this.prfxFlt="flt",this.prfxValButton="btn",this.prfxInfDiv="inf_",this.prfxLDiv="ldiv_",this.prfxRDiv="rdiv_",this.prfxMDiv="mdiv_",this.prfxContentDiv="cont_",this.prfxCheckListDiv="chkdiv_",this.prfxSlcPages="slcPages_",this.prfxSlcResults="slcResults_",this.prfxSlcResultsTxt="slcResultsTxt_",this.prfxBtnNextSpan="btnNextSpan_",this.prfxBtnPrevSpan="btnPrevSpan_",this.prfxBtnLastSpan="btnLastSpan_",this.prfxBtnFirstSpan="btnFirstSpan_",this.prfxBtnNext="btnNext_",this.prfxBtnPrev="btnPrev_",this.prfxBtnLast="btnLast_",this.prfxBtnFirst="btnFirst_",this.prfxPgSpan="pgspan_",this.prfxPgBeforeSpan="pgbeforespan_",this.prfxPgAfterSpan="pgafterspan_",this.prfxCounter="counter_",this.prfxTotRows="totrows_span_",this.prfxTotRowsTxt="totRowsTextSpan_",this.prfxResetSpan="resetspan_",this.prfxLoader="load_",this.prfxStatus="status_",this.prfxStatusSpan="statusSpan_",this.prfxStatusTxt="statusText_",this.prfxCookieFltsValues="tf_flts_",this.prfxCookiePageNb="tf_pgnb_",this.prfxCookiePageLen="tf_pglen_",this.prfxMainTblCont="gridCont_",this.prfxTblCont="tblCont_",this.prfxHeadTblCont="tblHeadCont_",this.prfxHeadTbl="tblHead_",this.prfxGridFltTd="_td_",this.prfxGridTh="tblHeadTh_",this.prfxHelpSpan="helpSpan_",this.prfxHelpDiv="helpDiv_",this.prfxPopUpSpan="popUpSpan_",this.prfxPopUpDiv="popUpDiv_",this.hasStoredValues=!1,this.rememberGridValues=i.remember_grid_values?!0:!1,this.fltsValuesCookie=this.prfxCookieFltsValues+this.id,this.rememberPageNb=this.paging&&i.remember_page_number?!0:!1,this.pgNbCookie=this.prfxCookiePageNb+this.id,this.rememberPageLen=this.paging&&i.remember_page_length?!0:!1,this.pgLenCookie=this.prfxCookiePageLen+this.id,this.cookieDuration=i.set_cookie_duration?parseInt(i.set_cookie_duration):1e5,this.hasExtensions=i.extensions?!0:!1,this.extensions=this.hasExtensions?i.extensions:null,this.enableDefaultTheme=i.enable_default_theme?!0:!1,this.hasThemes=i.enable_default_theme||i.themes&&tf_IsObj(i.themes)?!0:!1,this.themes=this.hasThemes?i.themes:null,this.themesPath=void 0!=i.themes_path?i.themes_path:this.basePath+"TF_Themes/",this.hasBindScript=i.bind_script?!0:!1,this.bindScript=this.hasBindScript?i.bind_script:null;var a=this;if(this.Evt={name:{filter:"Filter",populateselect:"Populate",populatechecklist:"PopulateCheckList",changepage:"ChangePage",clear:"Clear",changeresultsperpage:"ChangeResults",resetvalues:"ResetValues",resetpage:"ResetPage",resetpagelength:"ResetPageLength",sort:"Sort",loadextensions:"LoadExtensions",loadthemes:"LoadThemes"},_DetectKey:function(t){if(a.enterKey){var e=t||window.event;if(e){var s=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0;"13"==s?(a.Filter(),tf_CancelEvent(e),tf_StopEvent(e)):(a.isUserTyping=!0,window.clearInterval(a.onKeyUpTimer),a.onKeyUpTimer=void 0)}}},_OnKeyUp:function(t){function e(){window.clearInterval(a.onKeyUpTimer),a.onKeyUpTimer=void 0,a.isUserTyping||(a.Filter(),a.isUserTyping=null)}if(a.onKeyUp){var s=t||window.event,i=s.charCode?s.charCode:s.keyCode?s.keyCode:s.which?s.which:0;a.isUserTyping=!1,13!=i&&9!=i&&27!=i&&38!=i&&40!=i?void 0==a.onKeyUpTimer&&(a.onKeyUpTimer=window.setInterval(e,a.onKeyUpDelay)):(window.clearInterval(a.onKeyUpTimer),a.onKeyUpTimer=void 0)}},_OnKeyDown:function(){a.onKeyUp&&(a.isUserTyping=!0)},_OnInpBlur:function(){a.onKeyUp&&(a.isUserTyping=!1,window.clearInterval(a.onKeyUpTimer)),""==this.value&&""!=a.inpWatermark&&(this.value=a.isInpWatermarkArray?a.inpWatermark[this.getAttribute("ct")]:a.inpWatermark,tf_AddClass(this,a.inpWatermarkCssClass)),a.ezEditTable&&(a.editable&&a.ezEditTable.Editable.Set(),a.selectable&&a.ezEditTable.Selection.Set())},_OnInpFocus:function(t){var e=t||window.event;if(a.activeFilterId=this.getAttribute("id"),a.activeFlt=tf_Id(a.activeFilterId),a.isInpWatermarkArray){var s=a.inpWatermark[this.getAttribute("ct")];this.value==s&&""!=s&&(this.value="",tf_RemoveClass(this,a.inpWatermarkCssClass))}else this.value==a.inpWatermark&&""!=a.inpWatermark&&(this.value="",tf_RemoveClass(this,a.inpWatermarkCssClass));a.popUpFilters&&(tf_CancelEvent(e),tf_StopEvent(e)),a.ezEditTable&&(a.editable&&a.ezEditTable.Editable.Remove(),a.selectable&&a.ezEditTable.Selection.Remove())},_OnSlcFocus:function(t){var e=t||window.event;if(a.activeFilterId=this.getAttribute("id"),a.activeFlt=tf_Id(a.activeFilterId),a.fillSlcOnDemand&&"0"==this.getAttribute("filled")){var s=this.getAttribute("ct");a.PopulateSelect(s),tf_isIE||this.setAttribute("filled","1")}a.popUpFilters&&(tf_CancelEvent(e),tf_StopEvent(e))},_OnSlcChange:function(t){var e=t||window.event;a.popUpFilters&&tf_StopEvent(e),a.onSlcChange&&a.Filter()},_OnSlcBlur:function(){},_OnCheckListChange:function(t){a.Evt._OnCheckListChange.caller&&a.Evt._OnSlcChange(t)},_OnCheckListClick:function(){if(a.fillSlcOnDemand&&"0"==this.getAttribute("filled")){var t=this.getAttribute("ct");a.PopulateCheckList(t),a.checkListDiv[t].onclick=null,a.checkListDiv[t].title=""}},_OnCheckListFocus:function(){a.activeFilterId=this.firstChild.getAttribute("id"),a.activeFlt=tf_Id(a.activeFilterId)},_OnBtnClick:function(){a.Filter()},_OnSlcPagesChangeEvt:null,_EnableSlc:function(){this.firstChild.disabled=!1,this.firstChild.focus(),this.onclick=null},_Clear:function(){a.ClearFilters()},_OnHelpBtnClick:function(){a._ToggleHelp()},_Paging:{nextEvt:null,prevEvt:null,lastEvt:null,firstEvt:null}},this.enableModules){var r=this.module,o=this.registeredModules;(this.loader||this.statusBar||this.status||this.hasThemes)&&o.push(r.loader.name),this.hasThemes&&o.push(r.themes.name),this.paging&&o.push(r.paging.name),this.gridLayout&&o.push(r.gridLayout.name),(this.sort||this.gridLayout)&&o.push(r.sort.name),this.popUpFilters&&o.push(r.popUpFilters.name),this.rowsCounter&&o.push(r.rowsCounter.name),this.fixedHeaders&&o.push(r.fixedHeaders.name),(this.rememberGridValues||this.rememberPageLen||this.rememberPageNb)&&o.push(r.cookies.name),(this.statusBar||this.status||this.loader||this.hasThemes)&&o.push(r.statusBar.name),this.btnReset&&o.push(r.resetBtn.name),(this.helpInstructions||null==this.helpInstructions)&&o.push(r.helpInstructions.name),this.alternateBgs&&o.push(r.alternateRows.name),this.highlightKeywords&&o.push(r.highlightKeywords.name),this.refreshFilters&&o.push(r.refreshFilters.name),this.hasColOperation&&o.push(r.colOps.name),(this.selectable||this.editable)&&o.push(r.ezEditTable.name),(this.hasExtensions||this.gridLayout)&&(o.push(r.extensions.name),o.tf_Has(r.populateCheckList.name,!0)||o.push(r.populateCheckList.name)),""!=this.inpWatermark&&o.push(r.watermark.name),(this.publicMethods||this.hasExtensions||this.refreshFilters||this.popUpFilters||this.markActiveColumns)&&o.push(r.publicMethods.name);for(var e=0;e<o.length;e++){var n=r[o[e]];tf_IsImported(n.path)?(n.loaded=1,this.alreadyImportedModules.push(n.name)):(this.ImportModule(n),this.importedModules.push(n.name))}}}};TF.prototype={AddGrid:function(){function t(){for(var t=!0,i=0;i<e.registeredModules.length;i++){var l=e.module[e.registeredModules[i]];if(!l.loaded){t=!1;break}}t&&(clearInterval(s),e._AddGrid())}if(this.enableModules)if(this.isFirstLoad){var e=this;if(tf_isNotIE)window[this.id+"_DelayAddGrid"]=function(){arguments.callee.done||(setTimeout(function(){e._AddGrid()},1),arguments.callee.done=1)},tf_AddEvent(window,"load",window[this.id+"_DelayAddGrid"]);else var s=setInterval(t,10)}else this._AddGrid();else this._AddGrid()},Init:function(){this.AddGrid()},Initialize:function(){this.AddGrid()},init:function(){this.AddGrid()},initialize:function(){this.AddGrid()},_AddGrid:function(){if(!this.hasGrid){this.gridLayout&&(this.refRow=void 0==this.startRow?0:this.startRow),this.popUpFilters&&(0==this.filtersRowIndex&&1==this.headersRow||this.gridLayout)&&(this.headersRow=0);var t,e=this.fObj?this.fObj:{},s=this.singleSearchFlt?1:this.nbCells;
if(void 0==window["tf_"+this.id]&&(window["tf_"+this.id]=this),this.IncludeFile(this.stylesheetId,this.stylesheet,null,"link"),this.hasThemes&&this._LoadThemes(),this.gridLayout&&(this.isExternalFlt=!0,this.SetGridLayout(),this.refRow=tf_isIE||tf_isIE7?this.refRow+1:0),this.loader&&this.SetLoader(),this.popUpFilters&&(this.isFirstLoad||this.gridLayout||this.headersRow--,this.SetPopupFilterIcons()),this.hasResultsPerPage&&(this.resultsPerPage=void 0!=e.results_per_page?e.results_per_page:this.resultsPerPage,this.resultsPerPage.length<2?this.hasResultsPerPage=!1:this.pagingLength=this.resultsPerPage[1][0]),this.fltGrid)if(this.isFirstLoad){if(!this.gridLayout){var i,l=tf_Tag(this.tbl,"thead");i=l.length>0?l[0].insertRow(this.filtersRowIndex):this.tbl.insertRow(this.filtersRowIndex),this.headersRow>1&&this.filtersRowIndex<=this.headersRow&&!this.popUpFilters&&this.headersRow++,this.popUpFilters&&this.headersRow++,this.fixedHeaders&&this.SetFixedHeaders(),i.className=this.fltsRowCssClass,!this.isExternalFlt||this.gridLayout&&!this.popUpFilters||(i.style.display="none")}this.nbFilterableRows=this.GetRowsNb(),this.nbVisibleRows=this.nbFilterableRows,this.nbRows=this.tbl.rows.length;for(var a=0;s>a;a++){var r=tf_CreateElm(this.fltCellTag);if(this.singleSearchFlt&&(r.colSpan=this.nbCells),this.gridLayout||i.appendChild(r),t=a==s-1&&this.displayBtn?this.fltSmallCssClass:this.fltCssClass,this.popUpFilters&&this.SetPopupFilter(a),void 0==this["col"+a]&&(this["col"+a]=void 0==e["col_"+a]?this.fltTypeInp:e["col_"+a].tf_LCase()),this.singleSearchFlt&&(this["col"+a]=this.fltTypeInp,t=this.singleFltCssClass),this["col"+a]==this.fltTypeSlc||this["col"+a]==this.fltTypeMulti){var o=tf_CreateElm(this.fltTypeSlc,["id",this.prfxFlt+a+"_"+this.id],["ct",a],["filled","0"]);if(this["col"+a]==this.fltTypeMulti&&(o.multiple=this.fltTypeMulti,o.title=this.multipleSlcTooltip),o.className=this["col"+a].tf_LCase()==this.fltTypeSlc?t:this.fltMultiCssClass,this.isExternalFlt&&this.externalFltTgtIds&&tf_Id(this.externalFltTgtIds[a])?(tf_Id(this.externalFltTgtIds[a]).appendChild(o),this.externalFltEls.push(o)):r.appendChild(o),this.fltIds.push(this.prfxFlt+a+"_"+this.id),this.fillSlcOnDemand||this._PopulateSelect(a),o.onkeypress=this.Evt._DetectKey,o.onchange=this.Evt._OnSlcChange,o.onfocus=this.Evt._OnSlcFocus,o.onblur=this.Evt._OnSlcBlur,this.fillSlcOnDemand){var n=tf_CreateOpt(this.displayAllText,"");o.appendChild(n)}this.fillSlcOnDemand&&tf_isIE&&(o.disabled=!0,o.title=this.activateSlcTooltip,o.parentNode.onclick=this.Evt._EnableSlc,this["col"+a]==this.fltTypeMulti&&this.__deferMultipleSelection(o,0))}else if(this["col"+a]==this.fltTypeCheckList){var h=tf_CreateElm("div",["id",this.prfxCheckListDiv+a+"_"+this.id],["ct",a],["filled","0"]);h.className=this.checkListDivCssClass,this.isExternalFlt&&this.externalFltTgtIds&&tf_Id(this.externalFltTgtIds[a])?(tf_Id(this.externalFltTgtIds[a]).appendChild(h),this.externalFltEls.push(h)):r.appendChild(h),this.checkListDiv[a]=h,this.fltIds.push(this.prfxFlt+a+"_"+this.id),this.fillSlcOnDemand||this._PopulateCheckList(a),h.onclick=this.Evt._OnCheckListFocus,this.fillSlcOnDemand&&(h.onclick=this.Evt._OnCheckListClick,h.appendChild(tf_CreateText(this.activateCheckListTxt)))}else{var d;d=this["col"+a]==this.fltTypeInp?"text":"hidden";var f=tf_CreateElm(this.fltTypeInp,["id",this.prfxFlt+a+"_"+this.id],["type",d],["ct",a]);if("hidden"!=d&&(f.value=this.isInpWatermarkArray?this.inpWatermark[a]:this.inpWatermark),f.className=t,""!=this.inpWatermark&&tf_AddClass(f,this.inpWatermarkCssClass),f.onfocus=this.Evt._OnInpFocus,this.isExternalFlt&&this.externalFltTgtIds&&tf_Id(this.externalFltTgtIds[a])?(tf_Id(this.externalFltTgtIds[a]).appendChild(f),this.externalFltEls.push(f)):r.appendChild(f),this.fltIds.push(this.prfxFlt+a+"_"+this.id),f.onkeypress=this.Evt._DetectKey,f.onkeydown=this.Evt._OnKeyDown,f.onkeyup=this.Evt._OnKeyUp,f.onblur=this.Evt._OnInpBlur,this.rememberGridValues){var c=tf_ReadCookie(this.fltsValuesCookie),p=new RegExp(this.separator,"g"),_=c.split(p);" "!=_[a]&&this.SetFilterValue(a,_[a],!1)}}if(a==s-1&&this.displayBtn){var u=tf_CreateElm(this.fltTypeInp,["id",this.prfxValButton+a+"_"+this.id],["type","button"],["value",this.btnText]);u.className=this.btnCssClass,this.isExternalFlt&&this.externalFltTgtIds&&tf_Id(this.externalFltTgtIds[a])?tf_Id(this.externalFltTgtIds[a]).appendChild(u):r.appendChild(u),u.onclick=this.Evt._OnBtnClick}}}else this.__resetGrid();else this.refRow=this.refRow-1,this.gridLayout&&(this.refRow=0),this.nbFilterableRows=this.GetRowsNb(),this.nbVisibleRows=this.nbFilterableRows,this.nbRows=this.nbFilterableRows+this.refRow;if(this.rowsCounter&&this.SetRowsCounter(),this.statusBar&&this.SetStatusBar(),this.fixedHeaders&&!this.isFirstLoad&&this.SetFixedHeaders(),this.paging&&this.SetPaging(),this.hasResultsPerPage&&this.paging&&this.SetResultsPerPage(),this.btnReset&&this.SetResetBtn(),this.helpInstructions&&this.SetHelpInstructions(),this.hasColWidth&&!this.gridLayout&&this.SetColWidths(),this.alternateBgs&&this.isStartBgAlternate&&this.SetAlternateRows(),this.hasColOperation&&this.fltGrid&&(this.colOperation=e.col_operation,this.SetColOperation()),this.sort&&this.SetSort(),(this.selectable||this.editable)&&this.SetEditable(),this.hasBindScript&&void 0!=this.bindScript.src){var m=this.bindScript.src,g=void 0!=this.bindScript.name?this.bindScript.name:"";this.IncludeFile(g,m,this.bindScript.target_fn)}this.isFirstLoad=!1,this.hasGrid=!0,(this.rememberGridValues||this.rememberPageLen||this.rememberPageNb)&&this.ResetValues(),this.gridLayout||tf_AddClass(this.tbl,this.prfxTf),this.loader&&this.ShowLoader("none"),this.hasExtensions&&this.LoadExtensions(),this.onFiltersLoaded&&this.onFiltersLoaded.call(null,this)}},EvtManager:function(t,e){function s(){if(void 0!=t)switch(t){case i.Evt.name.filter:i.isModFilterFn?i.modFilterFn.call(null,i):i._Filter();break;case i.Evt.name.populateselect:i.refreshFilters?i._PopulateSelect(l,!0):i._PopulateSelect(l,!1,a,r);break;case i.Evt.name.populatechecklist:i._PopulateCheckList(l,a,r);break;case i.Evt.name.changepage:i._ChangePage(o);break;case i.Evt.name.clear:i._ClearFilters(),i._Filter();break;case i.Evt.name.changeresultsperpage:i._ChangeResultsPerPage();break;case i.Evt.name.resetvalues:i._ResetValues(),i._Filter();break;case i.Evt.name.resetpage:i._ResetPage(i.pgNbCookie);break;case i.Evt.name.resetpagelength:i._ResetPageLength(i.pgLenCookie);break;case i.Evt.name.sort:break;case i.Evt.name.loadextensions:i._LoadExtensions();break;case i.Evt.name.loadthemes:i._LoadThemes();break;default:i["_"+t].call(null,i,e)}(i.status||i.statusBar)&&i.StatusMsg(""),i.loader&&i.ShowLoader("none")}var i=this,l=void 0!=e&&void 0!=e.slcIndex?e.slcIndex:null,a=void 0!=e&&void 0!=e.slcExternal?e.slcExternal:!1,r=void 0!=e&&void 0!=e.slcId?e.slcId:null,o=void 0!=e&&void 0!=e.pgIndex?e.pgIndex:null;if(this.loader||this.status||this.statusBar){try{this.ShowLoader(""),this.StatusMsg(i["msg"+t])}catch(n){}window.setTimeout(s,this.execDelay)}else s()},ImportModule:function(t){t.path&&t.name&&this.IncludeFile(t.name,t.path,t.init)},RemoveGrid:function(){if(this.fltGrid&&this.hasGrid){var t=this.tbl.rows;this.paging&&this.RemovePaging(),this.statusBar&&this.RemoveStatusBar(),this.rowsCounter&&this.RemoveRowsCounter(),this.btnReset&&this.RemoveResetBtn(),(this.helpInstructions||null==this.helpInstructions)&&this.RemoveHelpInstructions(),this.paging&&this.RemoveResultsPerPage(),this.isExternalFlt&&!this.popUpFilters&&this.RemoveExternalFlts(),this.fixedHeaders&&this.RemoveFixedHeaders(),this.infDiv&&this.RemoveTopDiv(),this.highlightKeywords&&this.UnhighlightAll(),this.sort&&this.RemoveSort(),this.loader&&this.RemoveLoader(),this.popUpFilters&&this.RemovePopupFilters(),this.markActiveColumns&&this.ClearActiveColumns();for(var e=this.refRow;e<this.nbRows;e++)if(null!==t[e]){t[e].style.display="";try{t[e].hasAttribute("validRow")&&t[e].removeAttribute("validRow")}catch(s){for(var i=0;i<t[e].attributes.length;i++)"validrow"==t[e].attributes[i].nodeName.tf_LCase()&&t[e].removeAttribute("validRow")}this.alternateBgs&&this.RemoveRowBg(e)}this.fltGrid&&!this.gridLayout&&(this.fltGridEl=t[this.filtersRowIndex],this.tbl.deleteRow(this.filtersRowIndex)),this.gridLayout&&this.RemoveGridLayout(),tf_RemoveClass(this.tbl,this.prfxTf),this.activeFlt=null,this.isStartBgAlternate=!0,this.hasGrid=!1}},SetTopDiv:function(){if(null==this.infDiv){var t=tf_CreateElm("div",["id",this.prfxInfDiv+this.id]);t.className=this.infDivCssClass,this.toolBarTgtId?tf_Id(this.toolBarTgtId).appendChild(t):this.fixedHeaders&&this.contDiv?this.contDiv.parentNode.insertBefore(t,this.contDiv):this.gridLayout?(this.tblMainCont.appendChild(t),t.className=this.gridInfDivCssClass):this.tbl.parentNode.insertBefore(t,this.tbl),this.infDiv=tf_Id(this.prfxInfDiv+this.id);var e=tf_CreateElm("div",["id",this.prfxLDiv+this.id]);e.className=this.lDivCssClass,t.appendChild(e),this.lDiv=tf_Id(this.prfxLDiv+this.id);var s=tf_CreateElm("div",["id",this.prfxRDiv+this.id]);s.className=this.rDivCssClass,t.appendChild(s),this.rDiv=tf_Id(this.prfxRDiv+this.id);var i=tf_CreateElm("div",["id",this.prfxMDiv+this.id]);i.className=this.mDivCssClass,t.appendChild(i),this.mDiv=tf_Id(this.prfxMDiv+this.id),null==this.helpInstructions&&this.SetHelpInstructions()}},RemoveTopDiv:function(){null!=this.infDiv&&(this.infDiv.parentNode.removeChild(this.infDiv),this.infDiv=null)},RemoveExternalFlts:function(){if(this.isExternalFlt||this.externalFltTgtIds)for(var t=0;t<this.externalFltTgtIds.length;t++)tf_Id(this.externalFltTgtIds[t])&&(tf_Id(this.externalFltTgtIds[t]).innerHTML="")},Filter:function(){this.EvtManager(this.Evt.name.filter)},_Filter:function(){function t(t,e,s){if(l.highlightKeywords&&e){t=t.replace(p,""),t=t.replace(_,""),t=t.replace(u,""),t=t.replace(m,"");var i=t;(o.test(t)||n.test(t)||h.test(t)||d.test(t)||c.test(t))&&(i=tf_GetNodeText(s)),""!=i&&tf_HighlightWord(s,i,l.highlightCssClass,l)}}function e(t,e,s){var i,w=h.test(t),F=o.test(t),x=d.test(t),y=n.test(t),R=c.test(t),I=_.test(t),k=p.test(t),T=(g.test(t),u.test(t)),E=m.test(t),L=v==t,D=b==t,P=C.test(t),O=w&&tf_IsValidDate(t.replace(h,""),S),A=F&&tf_IsValidDate(t.replace(o,""),S),G=x&&tf_IsValidDate(t.replace(d,""),S),M=y&&tf_IsValidDate(t.replace(n,""),S),N=R&&tf_IsValidDate(t.replace(c,""),S),B=I&&tf_IsValidDate(t.replace(_,""),S);if(tf_IsValidDate(e,S)){var H=tf_FormatDate(e,S);if(O){var V=tf_FormatDate(t.replace(h,""),S);i=V>H}else if(A){var V=tf_FormatDate(t.replace(o,""),S);i=V>=H}else if(M){var V=tf_FormatDate(t.replace(n,""),S);i=H>=V}else if(G){var V=tf_FormatDate(t.replace(d,""),S);i=H>V}else if(N){var V=tf_FormatDate(t.replace(c,""),S);i=H.toString()!=V.toString()}else if(B){var V=tf_FormatDate(t.replace(_,""),S);i=H.toString()==V.toString()}else if(p.test(t))i=l.__containsStr(t.replace(p,""),e,null,!1);else if(tf_IsValidDate(t,S)){var V=tf_FormatDate(t,S);i=H.toString()==V.toString()}else L?i=""==e.tf_Trim()?!0:!1:D&&(i=""!=e.tf_Trim()?!0:!1)}else if(l.hasColNbFormat&&null!=l.colNbFormat[s]?(a=tf_RemoveNbFormat(e,l.colNbFormat[s]),r=l.colNbFormat[s]):","==l.thousandsSeparator&&"."==l.decimalSeparator?(a=tf_RemoveNbFormat(e,"us"),r="us"):(a=tf_RemoveNbFormat(e,"eu"),r="eu"),F)i=a<=tf_RemoveNbFormat(t.replace(o,""),r);else if(y)i=a>=tf_RemoveNbFormat(t.replace(n,""),r);else if(w)i=a<tf_RemoveNbFormat(t.replace(h,""),r);else if(x)i=a>tf_RemoveNbFormat(t.replace(d,""),r);else if(R)i=l.__containsStr(t.replace(c,""),e)?!1:!0;else if(k)i=l.__containsStr(t.replace(p,""),e,null,!1);else if(I)i=l.__containsStr(t.replace(_,""),e,null,!0);else if(T)i=0==e.indexOf(t.replace(u,""))?!0:!1;else if(E){var U=t.replace(m,"");i=e.lastIndexOf(U,e.length-1)==e.length-1-(U.length-1)&&e.lastIndexOf(U,e.length-1)>-1?!0:!1}else if(L)i=""==e.tf_Trim()?!0:!1;else if(D)i=""!=e.tf_Trim()?!0:!1;else if(P)try{var U=t.replace(C,""),j=new RegExp(U);i=j.test(e)}catch(W){i=!1}else i=l.__containsStr(t,e,void 0==f["col_"+s]?this.fltTypeInp:f["col_"+s]);return i}if(this.fltGrid&&(this.hasGrid||this.isFirstLoad)){this.onBeforeFilter&&this.onBeforeFilter.call(null,this),""!=this.inpWatermark&&this.SetWatermark(!1);var s=this.tbl.rows;f=void 0!=this.fObj?this.fObj:[];var i=0;this.validRowsIndex=[];var l=this;this.highlightKeywords&&this.UnhighlightAll(),this.popUpFilters&&this.SetAllPopupFiltersIcon(),this.markActiveColumns&&this.ClearActiveColumns(),this.searchArgs=this.GetFiltersValue();for(var a,r,o=new RegExp(this.leOperator),n=new RegExp(this.geOperator),h=new RegExp(this.lwOperator),d=new RegExp(this.grOperator),c=new RegExp(this.dfOperator),p=new RegExp(tf_RegexpEscape(this.lkOperator)),_=new RegExp(this.eqOperator),u=new RegExp(this.stOperator),m=new RegExp(this.enOperator),g=new RegExp(this.anOperator),v=(new RegExp(this.curExp),this.emOperator),b=this.nmOperator,C=new RegExp(tf_RegexpEscape(this.rgxOperator)),w=this.refRow;w<this.nbRows;w++){"none"==s[w].style.display&&(s[w].style.display="");var F=s[w].cells,x=F.length;if(x==this.nbCells){for(var y=[],R="include"==this.searchType?!0:!1,I=!1,k=0;x>k;k++){var T=this.searchArgs[this.singleSearchFlt?0:k],S=this.hasColDateType?this.colDateType[k]:this.defaultDateType;if(""!=T){var E=this.GetCellData(k,F[k]).tf_MatchCase(this.matchCase),L=T.split(this.orOperator),D=L.length>1?!0:!1,P=T.split(this.anOperator),O=P.length>1?!0:!1;if(D||O){for(var A,G=!1,M=D?L:P,N=0;N<M.length&&(A=M[N].tf_Trim(),G=e(A,E,k),t(A,G,F[k]),!D||!G)&&(!O||G);N++);y[k]=G}else y[k]=e(T.tf_Trim(),E,k),t(T,y[k],F[k]);y[k]||(R="include"==this.searchType?!1:!0),this.singleSearchFlt&&y[k]&&(I=!0),this.popUpFilters&&this.SetPopupFilterIcon(k,!0),this.markActiveColumns&&w==this.refRow&&(this.onBeforeActiveColumn&&this.onBeforeActiveColumn.call(null,this,k),tf_AddClass(this.GetHeaderElement(k),this.activeColumnsCssClass),this.onAfterActiveColumn&&this.onAfterActiveColumn.call(null,this,k))}}this.singleSearchFlt&&I&&(R=!0),R?(this.SetRowValidation(w,!0),this.validRowsIndex.push(w),this.alternateBgs&&this.SetRowBg(w,this.validRowsIndex.length),this.onRowValidated&&this.onRowValidated.call(null,this,w)):(this.SetRowValidation(w,!1),this.hasVisibleRows&&this.visibleRows.tf_Has(w)&&!this.paging?this.validRowsIndex.push(w):i++)}}this.nbVisibleRows=this.validRowsIndex.length,this.nbHiddenRows=i,this.isStartBgAlternate=!1,this.rememberGridValues&&this.RememberFiltersValue(this.fltsValuesCookie),this.paging||this.ApplyGridProps(),this.paging&&(this.startPagingRow=0,this.currentPageNb=1,this.SetPagingInfo(this.validRowsIndex)),this.onAfterFilter&&this.onAfterFilter.call(null,this)}},ApplyGridProps:function(){this.activeFlt&&this.activeFlt.nodeName.tf_LCase()==this.fltTypeSlc&&!this.popUpFilters&&(this.activeFlt.blur(),this.activeFlt.parentNode&&this.activeFlt.parentNode.focus()),this.visibleRows&&this.SetVisibleRows(),this.colOperation&&this.SetColOperation(),this.refreshFilters&&this.RefreshFiltersGrid();var t=!this.paging&&this.hasVisibleRows?this.nbVisibleRows-this.visibleRows.length:this.nbVisibleRows;this.rowsCounter&&this.RefreshNbRows(t),""!=this.inpWatermark&&this.SetWatermark(!0),this.popUpFilters&&this.CloseAllPopupFilters()},GetColValues:function(t,e,s){if(this.fltGrid){for(var i=this.tbl.rows,l=[],a=this.refRow;a<this.nbRows;a++){var r=!1;void 0!=s&&tf_IsObj(s)&&(r=s.tf_Has(a));var o=i[a].cells,n=o.length;if(n==this.nbCells&&!r)for(var h=0;n>h;h++)if(h==t&&""==i[a].style.display){var d=this.GetCellData(h,o[h]).tf_LCase(),f=this.colNbFormat?this.colNbFormat[t]:null;l.push(e?tf_RemoveNbFormat(d,f):d)}}return l}},GetFilterValue:function(t){if(this.fltGrid){var e,s=this.GetFilterElement(t);if(null==s)return e="";if(this["col"+t]!=this.fltTypeMulti&&this["col"+t]!=this.fltTypeCheckList)e=s.value;else if(this["col"+t]==this.fltTypeMulti){e="";for(var i=0;i<s.options.length;i++)s.options[i].selected&&(e=e.concat(s.options[i].value+" "+this.orOperator+" "));e=e.substr(0,e.length-4)}else this["col"+t]==this.fltTypeCheckList&&(null!=s.getAttribute("value")?(e=s.getAttribute("value"),e=e.substr(0,e.length-3)):e="");return e}},GetFiltersValue:function(){if(this.fltGrid){for(var t=[],e=0;e<this.fltIds.length;e++)t.push(this.GetFilterValue(e).tf_MatchCase(this.matchCase).tf_Trim());return t}},GetFilterId:function(){return this.fltGrid?this.fltIds[i]:void 0},GetFiltersByType:function(t,e){if(this.fltGrid){for(var s=[],i=0;i<this.fltIds.length;i++){var l=this["col"+i];if(l==t.tf_LCase()){var a=e?i:this.fltIds[i];s.push(a)}}return s}},GetFilterElement:function(t){return this.fltGrid?tf_Id(this.fltIds[t]):null},GetCellsNb:function(t){var e=void 0==t?this.tbl.rows[0]:this.tbl.rows[t];return e.cells.length},GetRowsNb:function(t){var e=void 0==this.refRow?0:this.refRow,s=this.tbl.rows.length;return t&&(e=0),parseInt(s-e)},GetCellData:function(t,e){return void 0==t||null==e?"":this.customCellData&&this.customCellDataCols.tf_Has(t)?this.customCellData.call(null,this,e,t):tf_GetNodeText(e)},GetRowDisplay:function(t){return this.fltGrid||tf_IsObj(t)?t.style.display:void 0},SetRowValidation:function(t,e){var s=this.tbl.rows[t];if(s&&"boolean"==(typeof e).tf_LCase()){this.hasVisibleRows&&this.visibleRows.tf_Has(t)&&!this.paging&&(e=!0);var i=e?"":"none",l=e?"true":"false";s.style.display=i,this.paging&&s.setAttribute("validRow",l)}},ValidateAllRows:function(){if(this.hasGrid){this.validRowsIndex=[];for(var t=this.refRow;t<this.nbFilterableRows;t++)this.SetRowValidation(t,!0),this.validRowsIndex.push(t)}},SetFilterValue:function(t,e,s){if((this.fltGrid||this.isFirstLoad)&&null!=this.GetFilterElement(t)){var i=this.GetFilterElement(t),l=void 0==s?!0:s;if(e=void 0==e?"":e,this["col"+t]!=this.fltTypeMulti&&this["col"+t]!=this.fltTypeCheckList)i.value=e,this["col"+t]==this.fltTypeInp&&""!=this.inpWatermark&&tf_RemoveClass(i,this.inpWatermarkCssClass);else if(this["col"+t]==this.fltTypeMulti){for(var a=e.split(" "+this.orOperator+" "),r=0,o=0;o<i.options.length;o++)if(""==a&&(i.options[o].selected=!1),""==i.options[o].value&&(i.options[o].selected=!1),""!=i.options[o].value&&a.tf_Has(i.options[o].value,!0))if(tf_isIE){var n=r==a.length-1&&l?!0:!1;this.__deferMultipleSelection(i,o,n),r++}else i.options[o].selected=!0}else if(this["col"+t]==this.fltTypeCheckList){e=e.tf_MatchCase(this.matchCase);for(var a=e.split(" "+this.orOperator+" "),h=(i.setAttribute("value",""),i.setAttribute("indexes",""),0);h<tf_Tag(i,"li").length;h++){var d=tf_Tag(i,"li")[h],f=tf_Tag(d,"label")[0],c=tf_Tag(d,"input")[0],p=tf_GetNodeText(f).tf_MatchCase(this.matchCase);""!=p&&a.tf_Has(p,!0)?(c.checked=!0,this.__setCheckListValues(c)):(c.checked=!1,this.__setCheckListValues(c))}}}},SetColWidths:function(t){function e(t){if((i||i.nbCells==i.colWidth.length)&&i.nbCells==t.cells.length)for(var e=0;e<i.nbCells;e++)t.cells[e].style.width=i.colWidth[e]}if(this.fltGrid&&this.hasColWidth){var s,i=this;s=void 0==t?"none"!=this.tbl.rows[0].style.display?0:1:t,e(this.tbl.rows[s])}},SetVisibleRows:function(){if(this.hasGrid&&this.hasVisibleRows&&!this.paging)for(var t=0;t<this.visibleRows.length;t++)this.visibleRows[t]<=this.nbRows&&this.SetRowValidation(this.visibleRows[t],!0)},ClearFilters:function(){this.EvtManager(this.Evt.name.clear)},_ClearFilters:function(){if(this.fltGrid){this.onBeforeReset&&this.onBeforeReset.call(null,this,this.GetFiltersValue());for(var t=0;t<this.fltIds.length;t++)this.SetFilterValue(t,"");this.refreshFilters&&(this.activeFilterId="",this.RefreshFiltersGrid()),this.rememberPageLen&&tf_RemoveCookie(this.pgLenCookie),this.rememberPageNb&&tf_RemoveCookie(this.pgNbCookie),this.onAfterReset&&this.onAfterReset.call(null,this)}},ClearActiveColumns:function(){for(var t=0;t<this.fltIds.length;t++)tf_RemoveClass(this.GetHeaderElement(t),this.activeColumnsCssClass)},RefreshGrid:function(t){var e=t?t:this.fObj,s=this.sort;s&&(this.sort=!1),this.nbRows=this.GetRowsNb(),this.RemoveGrid(),window["tf_"+this.id]=new TF(this.id,this.startRow,e),this.isFirstLoad=!0,this.fltIds=[],this._AddGrid(),s&&(this.st.setTBody(this.tbl.tBodies[0]),this.sort=!0)},__resetGrid:function(){function t(t){t.tbl.deleteRow(t.filtersRowIndex),t.RemoveGrid(),t.fltIds=[],t.isFirstLoad=!0,t.popUpFilters&&t.RemovePopupFilters(),t._AddGrid()}if(!this.isFirstLoad){if(this.gridLayout||this.tbl.rows[this.filtersRowIndex].parentNode.insertBefore(this.fltGridEl,this.tbl.rows[this.filtersRowIndex]),this.isExternalFlt)for(var e=0;e<this.externalFltTgtIds.length;e++)tf_Id(this.externalFltTgtIds[e])&&(tf_Id(this.externalFltTgtIds[e]).appendChild(this.externalFltEls[e]),this.gridLayout&&""==this.externalFltEls[e].innerHTML&&this["col"+e]!=this.fltTypeInp&&((this["col"+e]==this.fltTypeSlc||this["col"+e]==this.fltTypeMulti)&&this.PopulateSelect(e),this["col"+e]==this.fltTypeCheckList&&this.PopulateCheckList(e)));this.nbFilterableRows=this.GetRowsNb(),this.nbVisibleRows=this.nbFilterableRows,this.nbRows=this.tbl.rows.length,this.isSortEnabled&&(this.sort=!0),""==this.tbl.rows[this.filtersRowIndex].innerHTML?t(this):this.popUpFilters&&(this.headersRow++,this.SetPopupFilters()),this.gridLayout||tf_AddClass(this.tbl,this.prfxTf),this.hasGrid=!0}},__containsStr:function(t,e,s,i){var l,a=this.matchCase?"g":"gi",r=void 0==i?this.exactMatch:i;return l=r||s!=this.fltTypeInp&&void 0!=s?new RegExp("(^\\s*)"+tf_RegexpEscape(t)+"(\\s*$)",a):new RegExp(tf_RegexpEscape(t),a),l.test(e)},IncludeFile:function(t,e,s,i){var l=void 0==i?"script":i,a=tf_IsImported(e,l);if(!a){var r,o=this,n=!1,h=tf_Tag(document,"head")[0];r="link"==l.tf_LCase()?tf_CreateElm("link",["id",t],["type","text/css"],["rel","stylesheet"],["href",e]):tf_CreateElm("script",["id",t],["type","text/javascript"],["src",e]),r.onload=r.onreadystatechange=function(){n||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(n=!0,"function"==typeof s&&s.call(null,o))},r.onerror=function(){throw new Error("TF script could not load:\n"+this.src)},h.appendChild(r)}}},String.prototype.tf_MatchCase=function(t){return t?this.toString():this.tf_LCase()},String.prototype.tf_Trim=function(){return this.replace(/(^[\s\xA0]*)|([\s\xA0]*$)/g,"")},String.prototype.tf_LCase=function(){return this.toLowerCase()},String.prototype.tf_UCase=function(){return this.toUpperCase()},Array.prototype.tf_Has=function(t,e){var s=void 0==e?!1:e;for(i=0;i<this.length;i++)if(this[i].toString().tf_MatchCase(s)==t)return!0;return!1},Array.prototype.tf_IndexByValue=function(t,e){var s=void 0==e?!1:e;for(i=0;i<this.length;i++)if(this[i].toString().tf_MatchCase(s)==t)return i;return-1},window.tf_isIE=window.innerHeight?!1:/msie|MSIE 6/.test(navigator.userAgent)?!0:!1,window.tf_isIE7=window.innerHeight?!1:/msie|MSIE 7/.test(navigator.userAgent)?!0:!1,window.tf_isNotIE=!/msie|MSIE/.test(navigator.userAgent),tf_AddEvent(window,tf_isNotIE||"function"==typeof window.addEventListener?"DOMContentLoaded":"load",initFilterGrid);